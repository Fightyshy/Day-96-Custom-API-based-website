<!-- Panel with tabs -->
<div class="col-md-3 h-100">
    <ul class="nav nav-tabs flex-column" style="border-radius: 10px;">
        <li class="nav-item">
            <a class="nav-link active" id="ultimates-tab" data-bs-toggle="tab" href="#ultimates">Ultimates</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="endwalker-tab" data-bs-toggle="tab" href="#endwalker">Endwalker</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="shadowbringers-tab" data-bs-toggle="tab" href="#shadowbringers">Shadowbringers</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="stormblood-tab" data-bs-toggle="tab" href="#stormblood">Stormblood</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="heavensward-tab" data-bs-toggle="tab" href="#heavensward">Heavensward</a>
        </li>
        <!-- Add more tabs as needed -->
    </ul>
</div>
<!-- Content area for selected raids -->
<div class="col h-100">
    <div class="tab-content h-100">
        <!-- Content for Ultimates -->
        <div class="tab-pane fade show active" id="ultimates">
            <ul class="nav nav-tabs" id="ultimateSubtabs" style="border-radius: 10px;">
                <!-- Use dict name as everything for tab -->
                {% for tier in raid["ultimates"] %}
                <li class="nav-item">
                    <a class="nav-link" id="{{tier|replace(' ','-')|replace('\'s', '')}}-tab" data-bs-toggle="tab" href="#{{tier|replace(' ','-')|replace('\'s', '')}}">{{tier.title()|replace("'S", "'s")}}</a>
                </li>
                {% endfor %}
            </ul>
            <div class="tab-content">
                <!-- Loop to unpack and use information -->
                {% for name, tier in raid["ultimates"]|items %}
                {% include "raid-containers.html"%}
                {% endfor %}
            </div>
        </div>
        <!-- Content for endwalker -->
        <div class="tab-pane fade" id="endwalker">
            <!-- Content for Category 2 goes here -->
            <ul class="nav nav-tabs" id="endwalkerSubtabs">
                <!-- Use dict name as everything for tab -->
                {% for tier in raid["endwalker"] %}
                <li class="nav-item">
                    <a class="nav-link" id="{{tier|replace(' ','-')|replace('\'s', '')}}-tab" data-bs-toggle="tab" href="#{{tier|replace(' ','-')|replace('\'s', '')}}">{{tier.title()|replace("'S", "'s")}}</a>
                </li>
                {% endfor %}
            </ul>
            <div class="tab-content">
                {% for name, tier in raid["endwalker"]|items %}
                {% include "raid-containers.html" %}
                {% endfor %}
            </div>
        </div>
        <!-- Content for shadowbringers -->
        <div class="tab-pane fade" id="shadowbringers">
            <!-- Content for Category 2 goes here -->
            <ul class="nav nav-tabs" id="shadowbringersSubtabs">
                <!-- Use dict name as everything for tab -->
                {% for tier in raid["shadowbringers"] %}
                <li class="nav-item">
                    <a class="nav-link" id="{{tier|replace(' ','-')|replace('\'s', '')}}-tab" data-bs-toggle="tab" href="#{{tier|replace(' ','-')|replace('\'s', '')}}">{{tier.title()|replace("'S", "'s")}}</a>
                </li>
                {% endfor %}
            </ul>
            <div class="tab-content">
                {% for name, tier in raid["shadowbringers"]|items %}
                {% include "raid-containers.html" %}
                {% endfor %}
            </div>
        </div>
        <!-- Content for stormblood -->
        <div class="tab-pane fade" id="stormblood">
            <!-- Content for Category 2 goes here -->
            <ul class="nav nav-tabs" id="stormbloodSubtabs">
                <!-- Use dict name as everything for tab -->
                {% for tier in raid["stormblood"] %}
                <li class="nav-item">
                    <a class="nav-link" id="{{tier|replace(' ','-')|replace('\'s', '')}}-tab" data-bs-toggle="tab" href="#{{tier|replace(' ','-')|replace('\'s', '')}}">{{tier.title()|replace("'S", "'s")}}</a>
                </li>
                {% endfor %}
            </ul>
            <div class="tab-content">
                {% for name, tier in raid["stormblood"]|items %}
                {% include "raid-containers.html" %}
                {% endfor %}
            </div>
        </div>
        <!-- Content for heavensward-->
        <div class="tab-pane fade" id="heavensward">
            <!-- Content for Category 2 goes here -->
            <ul class="nav nav-tabs" id="heavenswardSubtabs">
                <!-- Use dict name as everything for tab -->
                {% for tier in raid["heavensward"] %}
                <li class="nav-item">
                    <a class="nav-link" id="{{tier|replace(' ','-')|replace('\'s', '')}}-tab" data-bs-toggle="tab" href="#{{tier|replace(' ','-')|replace('\'s', '')}}">{{tier.title()|replace("'S", "'s")}}</a>
                </li>
                {% endfor %}
            </ul>
            <div class="tab-content">
                {% for name, tier in raid["heavensward"]|items %}
                {% include "raid-containers.html" %}
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var initialTab = new bootstrap.Tab(document.getElementById('ultimates-tab'));
        initialTab.show(); // Activate the Ultimates tab

        var ultimatesTab = new bootstrap.Tab(document.getElementById('the-omega-protocol-tab'));
        ultimatesTab.show(); // Activate the Omega Protocol subtab
    });

    // TODO onclick for each major tab to enable each subtab
    document.getElementById("ultimates-tab").addEventListener("click", function(){
        var ultimatesTab = new bootstrap.Tab(document.getElementById('the-omega-protocol-tab'));
        ultimatesTab.show(); // Activate the Omega Protocol subtab
    })

    document.getElementById("endwalker-tab").addEventListener("click", function(){
        var endwalkerTab = new bootstrap.Tab(document.getElementById("anabaseios-tab"));
            endwalkerTab.show()
    })

    document.getElementById("shadowbringers-tab").addEventListener("click", function(){
        var endwalkerTab = new bootstrap.Tab(document.getElementById("eden-promise-tab"));
            endwalkerTab.show()
    })

    document.getElementById("stormblood-tab").addEventListener("click", function(){
        var endwalkerTab = new bootstrap.Tab(document.getElementById("alphascape-tab"));
            endwalkerTab.show()
    })

        document.getElementById("heavensward-tab").addEventListener("click", function(){
        var endwalkerTab = new bootstrap.Tab(document.getElementById("alexander:-the-creator-tab"));
            endwalkerTab.show()
    })
</script>